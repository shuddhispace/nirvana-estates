<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sell or Rent Your Property | Nirvana Estates</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  min-height: 100vh;
  background: #0f2b3d;
  overflow-x: hidden;
  color: #e0f7fa;
  position: relative;
}

/* Canvas for animated futuristic background */
#background-canvas {
  position: fixed;
  top:0;
  left:0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
}

/* Form container */
.form-container {
  position: relative;
  z-index: 10;
  width: 100%;
  max-width: 480px;
  margin: 0 auto;
  padding: 2rem;
}

/* Heading */
h2 {
  font-size: 2.3rem;
  font-weight: 800;
  text-align: center;
  color: #00f0ff;
  margin-bottom: 0.5rem;
  text-shadow: 0 0 12px #00f0ff, 0 0 20px #25D366;
}

p.description {
  text-align: center;
  margin-bottom: 2rem;
  color: #b0e0e6;
}

/* Floating Field Cards */
.field-card {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(0,255,255,0.2);
  backdrop-filter: blur(12px);
  border-radius: 1.5rem;
  padding: 1rem 1.5rem;
  margin-bottom: 1rem;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  transition: all 0.3s ease;
}
.field-card:hover,
.field-card:focus-within {
  box-shadow: 0 0 18px #00f0ff;
  border: 1px solid #00f0ff;
}

input, select, textarea {
  width: 100%;
  border: none;
  background: transparent;
  color: #e0f7fa;
  font-weight: 500;
  font-size: 1rem;
  outline: none;
}

select option {
  background: #0f2b3d;
  color: #e0f7fa;
}

input::placeholder, textarea::placeholder {
  color: rgba(224,247,250,0.6);
}

/* Submit Button */
button {
  width: 100%;
  padding: 1rem;
  border-radius: 2rem;
  border: none;
  font-weight: 700;
  font-size: 1.1rem;
  color: #fff;
  cursor: pointer;
  background: linear-gradient(270deg, #25D366, #00f0ff, #ff6f91);
  background-size: 600% 600%;
  animation: gradientMove 8s ease infinite;
  transition: all 0.3s ease;
  box-shadow: 0 0 12px rgba(0,255,255,0.5);
}
button:hover,
button:focus,
button:active,
button.active-glow {
  transform: scale(1.03);
  box-shadow: 0 0 24px rgba(0,255,255,0.8);
}

@keyframes gradientMove {
  0% { background-position:0% 50%; }
  50% { background-position:100% 50%; }
  100% { background-position:0% 50%; }
}

/* Success Message */
#successMessage {
  text-align:center;
  margin-top:1rem;
  color:#00f0ff;
  background: rgba(0,255,255,0.1);
  border:1px solid #00f0ff;
  padding:1rem;
  border-radius:1.5rem;
  font-weight:600;
  box-shadow:0 0 12px rgba(0,255,255,0.3);
}

/* Mobile responsive */
@media (max-width: 640px) {
  h2 { font-size: 2rem; }
  p.description { font-size: 0.95rem; }
  button { font-size: 1rem; padding: 0.9rem; }
  .field-card { padding: 0.8rem 1rem; }
}
</style>
</head>
<body>

<!-- Background Canvas -->
<canvas id="background-canvas"></canvas>

<!-- Header -->
<div id="header-placeholder"></div>
<script>
  // Load header.html and then initialize the header behavior
fetch('header.html')
  .then(response => response.text())
  .then(data => {
    document.getElementById('header-placeholder').innerHTML = data;

    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const line1 = document.getElementById('line1');
    const line2 = document.getElementById('line2');
    const line3 = document.getElementById('line3');
    const header = document.getElementById('header');
    const headerContent = document.getElementById('header-content');
    const logo = document.getElementById('logo');
    const nameDesktop = document.getElementById('name-desktop');
    const nameMobile = document.getElementById('name-mobile');

    // Hamburger toggle and animation
    menuToggle.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
      const isOpen = !mobileMenu.classList.contains('hidden');

      if (isOpen) {
        line1.style.transform = 'rotate(45deg) translate(5px, 5px)';
        line2.style.opacity = '0';
        line3.style.transform = 'rotate(-45deg) translate(5px, -5px)';
      } else {
        line1.style.transform = 'rotate(0) translate(0, 0)';
        line2.style.opacity = '1';
        line3.style.transform = 'rotate(0) translate(0, 0)';
      }
    });

    // Close mobile menu when any link clicked
    mobileMenu.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
        // Reset hamburger icon
        line1.style.transform = 'rotate(0) translate(0, 0)';
        line2.style.opacity = '1';
        line3.style.transform = 'rotate(0) translate(0, 0)';
      });
    });

    // Shrink header on scroll
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        header.classList.add('bg-opacity-95', 'shadow-lg');
        headerContent.classList.add('h-16', 'md:h-20');
        logo.classList.add('h-10', 'md:h-16');
        logo.classList.remove('h-14', 'md:h-20');
        nameDesktop.classList.add('h-6');
        nameDesktop.classList.remove('h-8');
        nameMobile.querySelector('img').classList.add('h-4');
        nameMobile.querySelector('img').classList.remove('h-5');
      } else {
        header.classList.remove('bg-opacity-95', 'shadow-lg');
        headerContent.classList.remove('h-16', 'md:h-20');
        logo.classList.remove('h-10', 'md:h-16');
        logo.classList.add('h-14', 'md:h-20');
        nameDesktop.classList.remove('h-6');
        nameDesktop.classList.add('h-8');
        nameMobile.querySelector('img').classList.remove('h-4');
        nameMobile.querySelector('img').classList.add('h-5');
      }
    });
  })
  .catch(err => console.error('Failed to load header:', err));
</script>

<div class="form-container">
  <h2>Sell or Rent Your Property</h2>
  <p class="description">Share your property details below and let <span style="color:#25D366;font-weight:600;">NIRVANA ESTATES</span> help you connect with the right buyer or tenant quickly.</p>

  <form id="sellerForm" class="flex flex-col">
    <div class="field-card"><input type="text" name="name" placeholder="Full Name *" required></div>
    <div class="field-card"><input type="tel" name="phone" placeholder="Phone Number *" required></div>
    <div class="field-card"><input type="email" name="email" placeholder="Email Address (Optional)"></div>
    <div class="field-card">
      <select name="type" required>
        <option value="">Select Property Type *</option>
        <option value="Sell">Sell</option>
        <option value="Rent">Rent</option>
      </select>
    </div>
    <div class="field-card"><input type="text" name="location" placeholder="Property Location *" required></div>
    <div class="field-card"><textarea name="description" rows="4" placeholder="Describe your property (e.g., 2BHK flat, sea-facing, semi-furnished, near Malad station) *" required></textarea></div>

    <button type="submit">Submit Property</button>
  </form>

  <div id="successMessage" class="hidden">
    âœ… Your property details have been submitted successfully. Our team will contact you soon.
  </div>
</div>

<!-- Footer -->
<div id="footer-placeholder"></div>
<script>
  fetch('footer.html')
  .then(response => response.text())
  .then(data => document.getElementById('footer-placeholder').innerHTML = data)
  .catch(err => console.error('Failed to load footer:', err));
</script>

<script>
// Form submit
const form = document.getElementById("sellerForm");
form.addEventListener("submit", async (e) => {
  e.preventDefault();
  const formData = new FormData(form);
  const data = Object.fromEntries(formData.entries());

  const res = await fetch("/submit-seller", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });

  if(res.ok){
    form.classList.add("hidden");
    document.getElementById("successMessage").classList.remove("hidden");
  }
});

// Mobile touch effect for button
const submitBtn = document.querySelector("button");
submitBtn.addEventListener("touchstart", () => submitBtn.classList.add("active-glow"));
submitBtn.addEventListener("touchend", () => setTimeout(() => submitBtn.classList.remove("active-glow"), 200));

// Futuristic real estate background animation
const canvas = document.getElementById("background-canvas");
const ctx = canvas.getContext("2d");
let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;

class BuildingLine {
  constructor() {
    this.x = Math.random() * width;
    this.y = height;
    this.width = Math.random()*2 + 1;
    this.height = Math.random()*50 + 50;
    this.speed = Math.random()*0.3 + 0.1;
  }
  draw() {
    ctx.fillStyle = "rgba(0,255,255,0.05)";
    ctx.fillRect(this.x, this.y - this.height, this.width, this.height);
  }
  update() {
    this.y -= this.speed;
    if(this.y - this.height < 0) {
      this.y = height;
      this.height = Math.random()*50 + 50;
      this.width = Math.random()*2 + 1;
    }
  }
}

const buildings = [];
for(let i=0;i<120;i++) buildings.push(new BuildingLine());

function animate() {
  ctx.clearRect(0,0,width,height);
  buildings.forEach(b=>{b.update();b.draw();});
  requestAnimationFrame(animate);
}

animate();

window.addEventListener("resize", ()=>{
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
});
</script>

</body>
</html>
